<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
<style>
#container{
    width: 600px;
    height: 600px;
    background-color: black;
    margin: auto;
    position: relative;
}
</style>
<script>
var container;
addEventListener("load",function(){
    container = document.getElementById("container");
    container.style.backgroundImage="url('../images/food1.jpg')";
    container.style.backgroundSize="600px 600px";
    createRect();
});

// 사각셀을 생성하는 함수
var arr =new Array();  //크기가 정해져 있지 않다!! 고무줄처럼 늘어남 자바스크립트만가능
var index=0;
function createRect(){
    for(var a=0; a<20; a++){
        for(var i=0; i<20; i++){
        div = document.createElement("div");
        div.style.width =28+"px";
        div.style.height=28+"px";
        div.style.border="1px solid red";
        div.style.background="yellow";
        div.style.position="absolute";
        div.style.left=(i*30)+"px";
        div.style.top=(a*30)+"px";
        div.style.opacity=0.7;

        container.appendChild(div);
        // div에 이벤트 핸들러 구현
        div.addEventListener("mouseover",function(){
            this.style.opacity=0;
        });

        //전역변수로 선언된 배열에 방금 테어난 div를 담아두자
        arr.push(div);
        }
    }
}
function remove1(){
    container.removeChild(arr[index]);
    setTimeout("remove1()",100);
    index+=1;
}
function remove2(){
    for(var i=0; i<arr.length; i++){
        container.removeChild(arr[i]);  //지정한 자식 요소를 제거!!
    }
}
</script>
</head>
<body>
    <button onclick="remove1()">천천히없애기</button>
    <button onclick="remove2()">한꺼번에 없애기</button>
    <div id="container"></div>
</body>
</html>